<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 480" fill="none">
  <style>
    .box { rx: 14; ry: 14; stroke-width: 2; filter: drop-shadow(0 2px 8px rgba(0,0,0,0.06)); }
    .label { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 14px; font-weight: 700; text-anchor: middle; }
    .sublabel { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 11px; fill: #6b7280; text-anchor: middle; }
    .heading { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 22px; font-weight: 800; fill: #111827; text-anchor: middle; }
    .heading-sub { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 13px; fill: #9ca3af; text-anchor: middle; }
    .conn { stroke-width: 2; stroke-linecap: round; fill: none; }
    .conn-label { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 10px; fill: #9ca3af; text-anchor: middle; }
    .inner { rx: 8; ry: 8; stroke-width: 1.5; }
  </style>

  <!-- Title -->
  <text x="450" y="32" class="heading">EcoChain Architecture</text>
  <text x="450" y="52" class="heading-sub">Hybrid On-Chain / Off-Chain System</text>

  <!-- ═══ User Layer ═══ -->
  <rect x="340" y="70" width="220" height="60" class="box" fill="#f8fafc" stroke="#94a3b8"/>
  <circle cx="380" cy="100" r="16" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1.5"/>
  <g transform="translate(380,100)" fill="none" stroke="#64748b" stroke-width="1.5" stroke-linecap="round">
    <circle cx="0" cy="-4" r="4"/>
    <path d="M-6,8 a6,6 0 0 1 12,0"/>
  </g>
  <text x="480" y="96" class="label" fill="#334155">User Wallet</text>
  <text x="480" y="112" class="sublabel">MetaMask / Rainbow</text>

  <!-- Arrow: User → Frontend -->
  <line x1="450" y1="130" x2="450" y2="165" stroke="#d1d5db" stroke-width="2" marker-end="url(#arrowGray)"/>
  <text x="480" y="152" class="conn-label">Connect</text>

  <!-- ═══ Frontend Layer ═══ -->
  <rect x="180" y="170" width="540" height="110" class="box" fill="#eff6ff" stroke="#3b82f6"/>
  <text x="450" y="195" class="label" fill="#1e40af">Next.js 16 Frontend</text>

  <!-- Inner boxes -->
  <rect x="200" y="205" width="140" height="55" class="inner" fill="#dbeafe" stroke="#93c5fd"/>
  <text x="270" y="228" class="label" fill="#2563eb" style="font-size:12px">App Router</text>
  <text x="270" y="244" class="sublabel" style="font-size:10px">RSC + ISR</text>

  <rect x="360" y="205" width="140" height="55" class="inner" fill="#dbeafe" stroke="#93c5fd"/>
  <text x="430" y="228" class="label" fill="#2563eb" style="font-size:12px">RainbowKit</text>
  <text x="430" y="244" class="sublabel" style="font-size:10px">Wagmi + Viem</text>

  <rect x="520" y="205" width="180" height="55" class="inner" fill="#dbeafe" stroke="#93c5fd"/>
  <text x="610" y="228" class="label" fill="#2563eb" style="font-size:12px">Server Actions</text>
  <text x="610" y="244" class="sublabel" style="font-size:10px">Zod Validated</text>

  <!-- Arrow: Frontend → Contracts -->
  <line x1="350" y1="280" x2="250" y2="335" stroke="#e07850" stroke-width="2" class="conn" marker-end="url(#arrowOrange)"/>
  <text x="270" y="310" class="conn-label" fill="#e07850">Read / Write</text>

  <!-- Arrow: Frontend → Database -->
  <line x1="550" y1="280" x2="650" y2="335" stroke="#10b981" stroke-width="2" class="conn" marker-end="url(#arrowGreen)"/>
  <text x="630" y="310" class="conn-label" fill="#10b981">Fetch / Sync</text>

  <!-- ═══ Smart Contract Layer ═══ -->
  <rect x="40" y="340" width="360" height="120" class="box" fill="#fff7ed" stroke="#e07850"/>
  <text x="220" y="365" class="label" fill="#9a3412">Smart Contracts — Polygon Amoy</text>

  <rect x="60" y="380" width="150" height="55" class="inner" fill="#ffedd5" stroke="#fdba74"/>
  <text x="135" y="403" class="label" fill="#c2410c" style="font-size:12px">EcoCredits</text>
  <text x="135" y="419" class="sublabel" style="font-size:10px">ERC-1155 NFT</text>

  <rect x="230" y="380" width="150" height="55" class="inner" fill="#ffedd5" stroke="#fdba74"/>
  <text x="305" y="403" class="label" fill="#c2410c" style="font-size:12px">Marketplace</text>
  <text x="305" y="419" class="sublabel" style="font-size:10px">Buy / Sell / List</text>

  <!-- ═══ Database Layer ═══ -->
  <rect x="500" y="340" width="360" height="120" class="box" fill="#ecfdf5" stroke="#10b981"/>
  <text x="680" y="365" class="label" fill="#065f46">Data Layer — Neon Postgres</text>

  <rect x="520" y="380" width="150" height="55" class="inner" fill="#d1fae5" stroke="#6ee7b7"/>
  <text x="595" y="403" class="label" fill="#047857" style="font-size:12px">Drizzle ORM</text>
  <text x="595" y="419" class="sublabel" style="font-size:10px">Type-safe queries</text>

  <rect x="690" y="380" width="150" height="55" class="inner" fill="#d1fae5" stroke="#6ee7b7"/>
  <text x="765" y="403" class="label" fill="#047857" style="font-size:12px">Serverless</text>
  <text x="765" y="419" class="sublabel" style="font-size:10px">@neon/serverless</text>

  <!-- Arrow markers -->
  <defs>
    <marker id="arrowGray" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#d1d5db"/>
    </marker>
    <marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#e07850"/>
    </marker>
    <marker id="arrowGreen" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#10b981"/>
    </marker>
  </defs>
</svg>
